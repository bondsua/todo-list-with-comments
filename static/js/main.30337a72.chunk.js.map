{"version":3,"sources":["store/todosWithComments/constants.js","store/todosWithComments/reducer.js","store/todosWithComments/actions.js","store/todosWithComments/selectors.js","store/reducers.js","store/index.js","constants/cookies.js","store/app/actions.js","store/app/selectors.js","translations/index.js","containers/intl/IntlProvider.js","theme/main.js","components/languageSelect/languageSelectItem/LanguageSelectItem.js","components/icons/EarthIcon.js","components/buttons/actionButton/ActionButton.js","components/languageSelect/LanguageSelect.js","containers/sidebar/Sidebar.js","components/paper/Paper.js","components/buttons/deleteButton/DeleteButton.js","components/todos/todoList/todoListItem/TodoListItem.js","components/todos/todoList/TodoList.js","components/todos/addTodo/AddTodo.js","containers/todos/Todos.js","components/todoComments/todoCommentTemplate/TodoCommentTemplate.js","components/avatar/Avatar.js","components/todoComments/addTodoComment/AddTodoComment.js","components/todoComments/todoCommentsListItem/TodoCommentsListItem.js","components/todoComments/TodoCommentsList/TodoCommentsList.js","containers/todoComments/TodoComments.js","App.js","index.js"],"names":["SCOPE","ACTIONS_TYPE","ADD_TODO","DELETE_TODO_BY_INDEX","SET_CURRENT_TODO_INDEX","ADD_COMMENT_TO_TODO","initialState","currentTodoIndex","todos","addTodo","name","type","payload","id","uniqid","comments","deleteTodoByIndex","index","setCurrentTodoIndex","addCommentToTodo","todoIndex","comment","getTodos","state","getCurrentTodoIndex","getCurrentTodo","combineReducers","i18nState","TODOS_SCOPE","action","removeIndex","splice","Math","min","length","max","persistConfig","key","storage","whitelist","persistedReducer","persistReducer","reducers","composeEnhancer","compose","store","createStore","undefined","persistor","persistStore","LANGUAGE","inOneHour","Date","getTime","setLanguage","lang","Cookies","set","expires","path","setLanguageI18","getLanguage","Cookie","get","connect","language","appSelectors","children","translations","initialLang","createMuiTheme","typography","useNextVariants","palette","primary","main","overrides","MuiTextField","root","transform","paddingTop","paddingBottom","LanguageSelectItem","this","props","countryLang","countryCode","countryName","onChange","forwardedRef","MenuItem","ref","className","onClick","e","ListItemIcon","code","styleProps","ListItemText","primaryTypographyProps","React","Component","forwardRef","EarthIcon","version","xmlns","viewBox","enableBackground","d","ActionButton","Button","color","variant","classes","COUNTRY_SUPPORT","LanguageSelect","context","useState","anchorEl","setAnchorEl","t","onCloseMenu","onChangeLanguage","aria-controls","aria-haspopup","event","currentTarget","Menu","paper","keepMounted","open","Boolean","onClose","map","contextTypes","PropTypes","func","Sidebar","currentLanguage","dispatch","appActions","classNames","PureComponent","Paper","header","restProps","Typography","DeleteButton","TodoListItem","countComments","onDelete","onActivate","isActive","Badge","badge","invisible","badgeContent","TodoList","todosRef","createRef","prevProps","prevState","snapshot","current","scrollTop","scrollHeight","TodoActionContext","Consumer","onDeleteTodoByIndex","onActivateTodoIndex","todo","AddTodo","onSubmit","preventDefault","setState","onChangeName","target","value","TextField","fullWidth","label","disabled","createContext","Todos","onAddTodo","todosActions","square","Provider","todosSelectors","TodoCommentsTemplate","disableGutters","disableBorderBottom","avatar","ListItem","defaultProps","AVATAR_COLOR","GREY","BLUE","ORANGE","Avatar","respProps","AddTodoComment","onChangeComment","component","TextareaAutosize","rows","TodoCommentsListItem","isLast","TodoCommentsList","commentsRef","lastCommentIndex","List","TodoComments","onAddComment","currentTodo","renderComments","todosSelector","App","StylesProvider","injectFirst","MuiThemeProvider","theme","mainTheme","Grid","container","spacing","item","sm","ReactDOM","render","loading","document","getElementById"],"mappings":"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","file":"static/js/main.30337a72.chunk.js","sourcesContent":["/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\n\nexport const SCOPE = 'TODOS';\n\nexport const ACTIONS_TYPE = {\n  ADD_TODO: `${SCOPE}/ADD_TODO`,\n  DELETE_TODO_BY_INDEX: `${SCOPE}/DELETE_TODO_BY_INDEX`,\n  SET_CURRENT_TODO_INDEX: `${SCOPE}/SET_CURRENT_TODO_INDEX`,\n  ADD_COMMENT_TO_TODO: `${SCOPE}/ADD_COMMENT_TO_TODO`\n};","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport { ACTIONS_TYPE } from './constants';\n\nconst initialState = {\n  currentTodoIndex: 0,\n  todos: []\n};\n\nexport default function reducer (state = initialState, action) {\n  switch (action.type) {\n    case ACTIONS_TYPE.ADD_TODO:\n      return {\n        ...state,\n        todos: [\n          ...state.todos,\n          action.payload\n        ]\n      };\n\n    case ACTIONS_TYPE.DELETE_TODO_BY_INDEX: {\n      const removeIndex = action.payload;\n      if (removeIndex < 0) {\n        return state;\n      }\n\n      let currentTodoIndex = state.currentTodoIndex;\n      state.todos.splice(removeIndex, 1);\n\n      if (removeIndex >= currentTodoIndex) {\n        currentTodoIndex = Math.min(currentTodoIndex, state.todos.length - 1);\n        currentTodoIndex = Math.max(0, currentTodoIndex);\n      } else {\n        currentTodoIndex = Math.max(0, currentTodoIndex - 1);\n      }\n\n      return {\n        ...state,\n        currentTodoIndex,\n        todos: [\n          ...state.todos\n        ]\n      };\n    }\n\n    case ACTIONS_TYPE.SET_CURRENT_TODO_INDEX:\n      return {\n        ...state,\n        currentTodoIndex: action.payload\n      };\n\n    case ACTIONS_TYPE.ADD_COMMENT_TO_TODO: {\n      const { todoIndex, comment } = action.payload;\n\n      if (!state.todos[todoIndex]) {\n        return state;\n      }\n\n      state.todos[todoIndex] = {\n        ...state.todos[todoIndex],\n        comments: [\n          ...state.todos[todoIndex].comments,\n          comment\n        ]\n      };\n\n      return {\n        ...state,\n        todos: [\n            ...state.todos\n        ]\n      };\n    }\n\n    default:\n      return state;\n  }\n}","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport { ACTIONS_TYPE } from './constants';\nimport uniqid from 'uniqid';\n\nexport function addTodo (name) {\n  return {\n    type: ACTIONS_TYPE.ADD_TODO,\n    payload: {\n      id: uniqid(),\n      name,\n      comments: []\n    }\n  };\n}\n\nexport function deleteTodoByIndex (index) {\n  return {\n    type: ACTIONS_TYPE.DELETE_TODO_BY_INDEX,\n    payload: index\n  };\n}\n\nexport function setCurrentTodoIndex (index) {\n  return {\n    type: ACTIONS_TYPE.SET_CURRENT_TODO_INDEX,\n    payload: index\n  };\n}\n\nexport function addCommentToTodo ({ todoIndex, comment }) {\n  return {\n    type: ACTIONS_TYPE.ADD_COMMENT_TO_TODO,\n    payload: {\n      todoIndex,\n      comment\n    }\n  };\n}","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport { SCOPE } from './constants';\n\nexport const getTodos = (state) => state[SCOPE].todos;\nexport const getCurrentTodoIndex = (state) => state[SCOPE].currentTodoIndex;\nexport const getCurrentTodo = (state) => {\n  return getTodos(state)[getCurrentTodoIndex(state)] || null;\n};","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport { combineReducers } from 'redux';\nimport { i18nState } from 'redux-i18n';\n\nimport { SCOPE as TODOS_SCOPE, reducer as todosReducer } from './todosWithComments';\n\nexport default combineReducers({\n  i18nState,\n  [TODOS_SCOPE]: todosReducer\n});\n","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport { createStore, compose } from 'redux';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\n\nimport reducers from './reducers';\nimport { SCOPE as TODOS_SCOPE } from './todosWithComments';\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n  whitelist: [TODOS_SCOPE]\n};\n\nconst persistedReducer = persistReducer(persistConfig, reducers);\n\nconst composeEnhancer = process.env.NODE_ENV === 'development' &&\nwindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n      maxAge: 30,\n      latency: 1000,\n      shouldHotReload: false\n    })\n    : compose;\n\nconst store = createStore(persistedReducer, undefined, composeEnhancer());\nlet persistor = persistStore(store);\n\nexport {\n  store,\n  persistor\n};\n","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\n\nexport const LANGUAGE = 'lang';","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport { setLanguage as setLanguageI18 } from 'redux-i18n';\nimport Cookies from 'js-cookie';\n\nimport { LANGUAGE } from '../../constants/cookies';\n\nconst inOneHour = new Date(new Date().getTime() + 60 * 60 * 1000);\n\nexport function setLanguage (lang) {\n  Cookies.set(LANGUAGE, lang, {\n    expires: inOneHour,\n    path: '/'\n  });\n\n  return setLanguageI18(lang);\n}","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport Cookie from 'js-cookie';\n\nimport { LANGUAGE } from '../../constants/cookies';\n\nexport const getLanguage = (state) => Cookie.get(LANGUAGE) || state.i18nState.lang;","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nexport default {\n  'ru': {\n    'Languages': 'Языки',\n    'Todo': 'Задачи',\n    'Add new': 'Добавить',\n    'Type name here': 'Введите имя',\n    'Delete': 'Удалить',\n    'Comments for {todo}': 'Комментарии для {todo}',\n    'No todo selected': 'Не выбрана задача'\n  },\n  'pl': {\n    'Languages': 'Języki',\n    'Todo': 'Do zrobienia',\n    'Add new': 'Dodaj nowe',\n    'Type name here': 'Wpisz tutaj nazwę',\n    'Delete': 'Usunąć',\n    'Comments for {todo}': 'Komentarze do {todo}',\n    'No todo selected': 'Nie wybrano żadnej czynności do wykonania'\n  },\n  'fr': {\n    'Languages': 'Langages',\n    'Todo': 'Faire',\n    'Add new': 'Ajouter un nouveau',\n    'Type name here': 'Tapez le nom ici',\n    'Delete': 'Effacer',\n    'Comments for {todo}': 'Commentaires pour {todo}',\n    'No todo selected': 'Aucun todo sélectionné'\n  }\n};","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport { connect } from 'react-redux';\nimport I18n from 'redux-i18n';\nimport React from 'react';\n\nimport { selectors as appSelectors } from '../../store/app';\nimport translations from '../../translations';\n\nfunction IntlProvider ({ language, children }) {\n  return <I18n translations={translations} initialLang={language}>\n    {children}\n  </I18n>;\n}\n\nconst mapStateToProps = state => {\n  return {\n    language: appSelectors.getLanguage(state)\n  };\n};\n\nexport default connect(mapStateToProps)(IntlProvider);","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport { createMuiTheme } from '@material-ui/core/styles';\n\nexport default createMuiTheme({\n  typography: {\n    useNextVariants: true\n  },\n  palette: {\n    primary: {\n      main: '#4DA6FF'\n    }\n  },\n  overrides: {\n    MuiTextField: {\n      root: {\n        '&>label': {\n          transform: 'translate(14px, 12px) scale(1)'\n        },\n        '& input': {\n          paddingTop: 10,\n          paddingBottom: 10\n        }\n      }\n    }\n  }\n});\n","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactCountryFlag from 'react-country-flag';\nimport { ListItemIcon, ListItemText, MenuItem } from '@material-ui/core';\n\nimport './LanguageSelectItem.css';\n\nclass LanguageSelectItem extends React.Component {\n  render () {\n    const { countryLang, countryCode, countryName, onChange, forwardedRef } = this.props;\n\n    const onClick = (e) => {\n      onChange(e, countryLang);\n    };\n\n    return (\n        <MenuItem\n            ref={forwardedRef}\n            className='LanguageSelectItem'\n            onClick={onClick}\n        >\n          <ListItemIcon className='LanguageSelectItem_lang'>\n          <span className='LanguageSelectItem_text'>\n            {countryLang}\n          </span>\n          </ListItemIcon>\n          <ReactCountryFlag\n              className='LanguageSelectItem_flag'\n              code={countryCode}\n              styleProps={{}}\n          />\n          <ListItemText\n              primaryTypographyProps={{ className: 'LanguageSelectItem_text' }}\n              primary={countryName}\n          />\n        </MenuItem>\n    );\n  }\n}\n\nLanguageSelectItem.propTypes = {\n  countryLang: PropTypes.string.isRequired,\n  countryCode: PropTypes.string.isRequired,\n  countryName: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nexport default React.forwardRef(\n    (props, ref) => <LanguageSelectItem {...props} forwardedRef={ref} />\n);","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport React from 'react';\n\nexport default function EarthIcon (props) {\n  return (\n      <svg\n          {...props}\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 512 512\"\n          enableBackground=\"new 0 0 512 512\">\n        <g>\n          <path\n              d=\"m429.2,82.8c-46.2-46.3-107.8-71.8-173.2-71.8s-127,25.5-173.2,71.8-71.8,107.8-71.8,173.2 25.5,127 71.8,173.2 107.8,71.8 173.2,71.8 127-25.5 173.2-71.8 71.8-107.8 71.8-173.2-25.5-127-71.8-173.2zm49.6,162.2h-95c-0.9-37.8-6.2-74.2-15.5-106.5 18.1-9.3 35-21 50.5-34.8 35,37.4 57.3,86.8 60,141.3zm-211.8,22h94.9c-0.8,34.8-5.6,68.1-13.9,97.9-25.6-10.3-52.9-16.3-81-17.6v-80.3zm136-178.6c-12.8,11.3-26.8,20.9-41.6,28.9-3.8-10.6-8.1-20.6-12.9-30-9.5-18.8-20.3-34.2-32.2-46 32.5,9.1 62,25.4 86.7,47.1zm-136-52c22.9,5.1 44.5,26.2 61.9,60.6 4.7,9.3 8.9,19.2 12.6,29.7-23.5,9.7-48.6,15.4-74.5,16.7v-107zm81.1,111.4c8.2,29.6 12.9,62.7 13.7,97.3h-94.8v-79.6c28.2-1.3 55.5-7.4 81.1-17.7zm-103.1,97.2h-94.9c0.8-34.6 5.5-67.7 13.7-97.3 25.6,10.4 53,16.4 81.1,17.6v79.7zm.1-208.6v107c-25.9-1.3-51.1-7-74.5-16.7 3.7-10.5 7.9-20.4 12.6-29.7 17.4-34.4 39-55.5 61.9-60.6zm-49.3,4.9c-11.9,11.8-22.7,27.3-32.2,46-4.7,9.4-9,19.4-12.9,30-14.8-8-28.7-17.6-41.6-28.9 24.7-21.7 54.2-38 86.7-47.1zm-102.5,62.4c15.5,13.8 32.4,25.4 50.5,34.8-9.3,32.4-14.7,68.7-15.5,106.5h-95c2.7-54.5 25-103.9 60-141.3zm-60,163.3h95c0.9,38.1 6.3,74.6 15.7,107.1-18,9.3-34.9,20.8-50.3,34.6-35.3-37.5-57.7-87-60.4-141.7zm76.2,157c12.8-11.2 26.7-20.8 41.4-28.7 3.8,10.3 8,20.2 12.7,29.4 9.5,18.8 20.3,34.2 32.2,46.1-32.3-9.1-61.7-25.3-86.3-46.8zm135.6,51.6c-22.9-5.1-44.5-26.2-61.9-60.6-4.6-9.1-8.7-18.8-12.4-29.1 23.4-9.7 48.5-15.4 74.3-16.6v106.3zm-81-110.7c-8.3-29.8-13.1-63.1-13.9-97.9h94.9v80.3c-28.1,1.2-55.4,7.2-81,17.6zm103,110.7v-106.3c25.8,1.3 50.9,6.9 74.3,16.6-3.7,10.3-7.8,20-12.4,29.1-17.4,34.4-39,55.5-61.9,60.6zm49.3-4.9c11.9-11.8 22.7-27.3 32.2-46.1 4.7-9.2 8.9-19.1 12.7-29.4 14.7,7.9 28.6,17.5 41.4,28.7-24.6,21.6-54,37.8-86.3,46.8zm102.2-62c-15.4-13.7-32.3-25.3-50.3-34.6 9.4-32.5 14.8-69.1 15.7-107.1h95c-2.8,54.7-25.2,104.2-60.4,141.7z\" />\n        </g>\n      </svg>\n  );\n}","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport React from 'react';\nimport { Button } from '@material-ui/core';\n\nimport './ActionButton.css';\n\nexport default function ActionButton (props) {\n  return <Button\n      {...props}\n      color=\"primary\"\n      variant=\"contained\"\n      classes={{\n        root: 'ActionButton'\n      }}\n  />;\n}","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Menu } from '@material-ui/core';\n\nimport './LanguageSelect.css';\nimport LanguageSelectItem from './languageSelectItem/LanguageSelectItem';\nimport EarthIcon from '../icons/EarthIcon';\nimport ActionButton from '../buttons/actionButton/ActionButton';\n\nconst COUNTRY_SUPPORT = [\n  {\n    lang: 'en',\n    code: 'US',\n    name: 'English'\n  },\n  {\n    lang: 'ru',\n    code: 'RU',\n    name: 'Русский'\n  },\n  {\n    lang: 'pl',\n    code: 'PL',\n    name: 'Polski'\n  },\n  {\n    lang: 'fr',\n    code: 'FR',\n    name: 'Le français'\n  }\n];\nexport default function LanguageSelect (props, context) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const { t } = context;\n\n  const onShowMenu = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const onCloseMenu = (e, code) => {\n    const { onChangeLanguage } = props;\n    setAnchorEl(null);\n    code && onChangeLanguage(code);\n  };\n\n  return <div>\n    <ActionButton\n        aria-controls=\"customized-menu\"\n        aria-haspopup=\"true\"\n        onClick={onShowMenu}\n    >\n      <EarthIcon className='LanguageSelect_earth' />\n      {t('Languages')}\n    </ActionButton>\n    <Menu\n        classes={{\n          paper: 'LanguageSelect_menu'\n        }}\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={onCloseMenu}\n    >\n      {COUNTRY_SUPPORT.map(({ lang, code, name }) => (\n          <LanguageSelectItem\n              key={code}\n              countryLang={lang}\n              countryCode={code}\n              countryName={name}\n              onChange={onCloseMenu}\n          />\n      ))}\n    </Menu>\n  </div>;\n}\n\nLanguageSelect.propTypes = {\n  onChangeLanguage: PropTypes.func\n};\n\nLanguageSelect.contextTypes = {\n  t: PropTypes.func\n};","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\n\nimport './Sidebar.css';\nimport {\n  selectors as appSelectors,\n  actions as appActions\n} from '../../store/app';\nimport LanguageSelect from '../../components/languageSelect/LanguageSelect.js';\n\nclass Sidebar extends PureComponent {\n  onChangeLanguage = (language) => {\n    const { currentLanguage, dispatch } = this.props;\n\n    if (currentLanguage === language) {\n      return;\n    }\n\n    dispatch(appActions.setLanguage(language));\n  };\n\n  render () {\n    return <aside className={classNames('Sidebar', this.props.className)}>\n      <div className='Sidebar_logo'>\n        Todo\n      </div>\n      <div className='Sidebar_language'>\n        <LanguageSelect\n            onChangeLanguage={this.onChangeLanguage}\n        />\n      </div>\n    </aside>;\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    currentLanguage: appSelectors.getLanguage(state)\n  };\n};\n\nexport default connect(mapStateToProps)(Sidebar);","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport React from 'react';\nimport { Paper as PaperUI, Typography } from '@material-ui/core';\nimport PropTypes from 'prop-types';\n\nimport './Paper.css';\n\nexport default function Paper (props) {\n  const { header, children, ...restProps } = props;\n\n  return <PaperUI\n      {...restProps}\n      classes={{ root: 'Paper' }}\n  >\n    {header && (\n        <Typography variant='h4' className='Paper_header'>\n          {header}\n        </Typography>\n    )}\n    {children || null}\n  </PaperUI>;\n}\n\nPaper.propTypes = {\n  header: PropTypes.string\n};","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport React from 'react';\nimport { Button } from '@material-ui/core';\nimport classNames from 'classnames';\n\nimport './DeleteButton.css';\n\nexport default function DeleteButton ({ className, ...restProps }) {\n  return <Button\n      {...restProps}\n      variant=\"outlined\"\n      color=\"secondary\"\n      className={classNames('DeleteButton', className)}\n  />;\n}","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Typography, Badge } from '@material-ui/core';\n\nimport './TodoListItem.css';\nimport DeleteButton from '../../../buttons/deleteButton/DeleteButton';\n\nexport default function TodoListItem (\n    { name, countComments, todoIndex, onDelete, onActivate, isActive },\n    context\n) {\n  const { t } = context;\n\n  const onDeleteTodoByIndex = () => {\n    onDelete && onDelete(todoIndex);\n  };\n\n  const onActivateTodoIndex = () => {\n    onActivate && onActivate(todoIndex);\n  };\n\n  return (\n      <div className={classNames('TodoListItem', {\n        'TodoListItem__active': isActive\n      })}>\n        <Typography\n            className='TodoListItem_content'\n            onClick={onActivateTodoIndex}\n        >\n          <span className='TodoListItem_content_name'>\n            {name}\n          </span>\n          <Badge\n              classes={{\n                badge: 'TodoListItem_content_count'\n              }}\n              type='primary'\n              invisible={false}\n              badgeContent={countComments}\n              color=\"primary\"\n          />\n        </Typography>\n        <div className='TodoListItem_actions'>\n          <DeleteButton onClick={onDeleteTodoByIndex}>\n            {t('Delete')}\n          </DeleteButton>\n        </div>\n      </div>\n  );\n}\n\nTodoListItem.propTypes = {\n  todoIndex: PropTypes.number,\n  name: PropTypes.string,\n  countComments: PropTypes.number,\n  onDelete: PropTypes.func,\n  onActivate: PropTypes.func,\n  isActive: PropTypes.bool\n};\n\nTodoListItem.contextTypes = {\n  t: PropTypes.func\n};","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport './TodoList.css'\nimport TodoListItem from './todoListItem/TodoListItem';\nimport { TodoActionContext } from '../../../containers/todos/Todos';\n\nexport default class TodoList extends PureComponent {\n  todosRef = React.createRef();\n\n  componentDidUpdate (prevProps, prevState, snapshot) {\n    if (this.props.todos.length > prevProps.todos.length) {\n      this.todosRef.current.scrollTop = this.todosRef.current.scrollHeight;\n    }\n  }\n\n  render () {\n    const { todos, currentTodoIndex, className } = this.props;\n\n    return (\n        <div\n            ref={this.todosRef}\n            className={classNames('TodoList', className)}\n        >\n          <TodoActionContext.Consumer>\n            {({ onDeleteTodoByIndex, onActivateTodoIndex }) => (\n                todos.map(\n                    (todo, index) => <TodoListItem\n                        key={index}\n                        name={todo.name}\n                        isActive={currentTodoIndex === index}\n                        todoIndex={index}\n                        onDelete={onDeleteTodoByIndex}\n                        onActivate={onActivateTodoIndex}\n                        countComments={todo.comments.length}\n                    />\n                )\n            )}\n          </TodoActionContext.Consumer>\n        </div>\n    );\n  }\n}\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(\n      PropTypes.shape({\n        name: PropTypes.string\n      })\n  ).isRequired,\n  currentTodoIndex: PropTypes.number\n};","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport React, { PureComponent } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { TextField } from '@material-ui/core';\n\nimport './AddTodo.css';\nimport ActionButton from '../../buttons/actionButton/ActionButton';\n\nexport default class AddTodo extends PureComponent {\n  state = {\n    name: ''\n  };\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    const { name } = this.state;\n\n    this.props.onSubmit && this.props.onSubmit(name);\n    this.setState({\n      name: ''\n    });\n  };\n\n  onChangeName = (e) => {\n    this.setState({\n      name: e.target.value\n    });\n  };\n\n  render () {\n    const { className } = this.props;\n    const { t } = this.context;\n    const { name } = this.state;\n\n    return (\n        <form onSubmit={this.onSubmit}\n              className={classNames('AddTodo', className)}>\n          <TextField\n              className='AddTodo_input'\n              fullWidth\n              label={`${t('Type name here')}...`}\n              variant=\"outlined\"\n              onChange={this.onChangeName}\n              value={name}\n          />\n          <ActionButton\n              className='AddTodo_submit-button' type='submit'\n              disabled={!Boolean(name)}\n          >\n            {t('Add new')}\n          </ActionButton>\n        </form>\n    );\n  }\n}\n\nAddTodo.propTypes = {\n  onSubmit: PropTypes.func\n};\n\nAddTodo.contextTypes = {\n  t: PropTypes.func\n};\n","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport './Todos.css';\nimport {\n  selectors as todosSelectors,\n  actions as todosActions\n} from '../../store/todosWithComments';\nimport Paper from '../../components/paper/Paper';\nimport TodoList from '../../components/todos/todoList/TodoList';\nimport AddTodo from '../../components/todos/addTodo/AddTodo';\n\nconst TodoActionContext = React.createContext({\n  onDeleteTodoByIndex: () => {\n  },\n  onActivateTodoIndex: () => {\n  }\n});\n\nclass Todos extends PureComponent {\n  onAddTodo = (name) => {\n    const { dispatch } = this.props;\n\n    dispatch(todosActions.addTodo(name));\n  };\n\n  onDeleteTodoByIndex = (index) => {\n    const { dispatch } = this.props;\n\n    dispatch(todosActions.deleteTodoByIndex(index));\n  };\n\n  onActivateTodoIndex = (index) => {\n    const { dispatch } = this.props;\n\n    dispatch(todosActions.setCurrentTodoIndex(index));\n  };\n\n  render () {\n    const { todos, currentTodoIndex } = this.props;\n    const { t } = this.context;\n\n    return (\n        <Paper\n            square\n            header={t('Todo')}\n        >\n          <AddTodo\n              className='Todos_add'\n              onSubmit={this.onAddTodo}\n          />\n          <TodoActionContext.Provider value={{\n            onDeleteTodoByIndex: this.onDeleteTodoByIndex,\n            onActivateTodoIndex: this.onActivateTodoIndex\n          }}>\n            <TodoList\n                todos={todos}\n                className='Todos_list'\n                currentTodoIndex={currentTodoIndex}\n            />\n          </TodoActionContext.Provider>\n        </Paper>\n    );\n  }\n}\n\nTodos.contextTypes = {\n  t: PropTypes.func\n};\n\nconst mapStateToProps = state => {\n  return {\n    todos: todosSelectors.getTodos(state),\n    currentTodoIndex: todosSelectors.getCurrentTodoIndex(state)\n  };\n};\n\nexport default connect(mapStateToProps)(Todos);\n\nexport {\n  TodoActionContext\n};","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { ListItem, ListItemIcon, ListItemText } from '@material-ui/core';\n\nimport './TodoCommentTemplate.css';\n\nexport default function TodoCommentsTemplate ({\n  children,\n  className,\n  disableGutters,\n  disableBorderBottom,\n  avatar,\n  ...restProps\n}) {\n  return (\n      <ListItem\n          {...restProps}\n          disableGutters\n          className={classNames('TodoCommentTemplate', className, {\n            'TodoCommentTemplate__gutters': !disableGutters,\n            'TodoCommentTemplate__border-bottom': !disableBorderBottom\n          })}\n      >\n        {avatar && (\n            <ListItemIcon className='TodoCommentTemplate_avatar'>\n              {avatar}\n            </ListItemIcon>\n        )}\n        <ListItemText className='TodoCommentTemplate_text'>\n          {children || null}\n        </ListItemText>\n      </ListItem>\n  );\n}\n\nTodoCommentsTemplate.propTypes = {\n  disableGutters: PropTypes.bool,\n  disableBorderBottom: PropTypes.bool,\n  avatar: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.element\n  ])\n};\n\nTodoCommentsTemplate.defaultProps = {\n  disableGutters: false,\n  disableBorderBottom: false\n};\n","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport './Avatar.css';\n\nconst AVATAR_COLOR = {\n  GREY: 'GREY',\n  BLUE: 'BLUE',\n  ORANGE: 'ORANGE'\n};\n\nexport default function Avatar ({ className, color, ...respProps }) {\n  return <span {...respProps}\n               className={classNames('Avatar', className, {\n                 'Avatar__grey': color === AVATAR_COLOR.GREY,\n                 'Avatar__blue': color === AVATAR_COLOR.BLUE,\n                 'Avatar__orange': color === AVATAR_COLOR.ORANGE\n               })} />;\n}\n\nAvatar.propTypes = {\n  color: PropTypes.oneOf(Object.values(AVATAR_COLOR))\n};\n\nAvatar.defaultProps = {\n  color: AVATAR_COLOR.GREY\n};\n\nexport {\n  AVATAR_COLOR\n};","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { TextareaAutosize } from '@material-ui/core';\n\nimport './AddTodoComment.css';\nimport TodoCommentTemplate from '../todoCommentTemplate/TodoCommentTemplate';\nimport ActionButton from '../../buttons/actionButton/ActionButton';\nimport Avatar from '../../avatar/Avatar'\n\nexport default class AddTodoComment extends PureComponent {\n  state = {\n    comment: ''\n  };\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    const { comment } = this.state;\n\n    this.props.onSubmit && this.props.onSubmit(comment);\n    this.setState({\n      comment: ''\n    });\n  };\n\n  onChangeComment = (e) => {\n    this.setState({\n      comment: e.target.value\n    });\n  };\n\n  render () {\n    const { comment } = this.state;\n    const { t } = this.context;\n    const { className } = this.props;\n\n    return (\n        <TodoCommentTemplate\n            component='div'\n            disableGutters\n            disableBorderBottom\n            className={className}\n            avatar={<Avatar />}\n        >\n          <form onSubmit={this.onSubmit} className='AddTodoComment'>\n            <TextareaAutosize\n                rows={4}\n                value={comment}\n                onChange={this.onChangeComment}\n                className='AddTodoComment_textarea'\n            />\n            <ActionButton\n                type='submit'\n                disabled={!Boolean(comment)}\n                className='AddTodoComment_submit-button'\n            >\n              {t('Add new')}\n            </ActionButton>\n          </form>\n        </TodoCommentTemplate>\n    );\n  }\n}\n\nAddTodoComment.propTypes = {\n  onSubmit: PropTypes.func\n};\n\nAddTodoComment.contextTypes = {\n  t: PropTypes.func\n};\n","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport TodoCommentTemplate from '../todoCommentTemplate/TodoCommentTemplate';\nimport Avatar, { AVATAR_COLOR } from '../../avatar/Avatar';\n\nexport default function TodoCommentsListItem ({ comment, index, isLast }) {\n  return (\n      <TodoCommentTemplate\n          disableBorderBottom={isLast}\n          avatar={<Avatar\n              color={index % 2 ? AVATAR_COLOR.BLUE : AVATAR_COLOR.ORANGE}\n          />}\n      >\n        {comment}\n      </TodoCommentTemplate>\n  );\n}\n\nTodoCommentsListItem.propTypes = {\n  comment: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n  isLast: PropTypes.bool\n};","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { List } from '@material-ui/core';\n\nimport './TodoCommentsList.css';\nimport TodoCommentsListItem from '../todoCommentsListItem/TodoCommentsListItem';\n\nexport default class TodoCommentsList extends PureComponent {\n  commentsRef = React.createRef();\n\n  componentDidUpdate (prevProps) {\n    if (this.props.comments.length > prevProps.comments.length) {\n      this.commentsRef.current.scrollTop = this.commentsRef.current.scrollHeight;\n    }\n  }\n\n  render () {\n    const { comments } = this.props;\n    const lastCommentIndex = comments.length - 1;\n\n    return (\n        <List className='TodoCommentsList' ref={this.commentsRef}>\n          {comments.map((comment, index) => {\n            return <TodoCommentsListItem\n                key={index}\n                isLast={index === lastCommentIndex}\n                comment={comment}\n                index={index}\n            />;\n          })}\n        </List>\n    );\n  }\n}\n\nTodoCommentsList.propTypes = {\n  comments: PropTypes.array.isRequired\n};","/**\n * @author Evheniy Bondarev <bondsua@gmail.com>\n */\nimport React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { Typography } from '@material-ui/core';\nimport PropTypes from 'prop-types';\n\nimport './TodoComments.css';\nimport {\n  selectors as todosSelector,\n  actions as todosActions\n} from '../../store/todosWithComments';\nimport Paper from '../../components/paper/Paper';\nimport AddTodoComment\n  from '../../components/todoComments/addTodoComment/AddTodoComment';\nimport TodoCommentsList\n  from '../../components/todoComments/TodoCommentsList/TodoCommentsList';\n\nclass TodoComments extends PureComponent {\n  render () {\n    const { currentTodo } = this.props;\n    const { t } = this.context;\n\n    return (\n        <Paper\n            square\n            header={currentTodo &&\n            t('Comments for {todo}', { todo: currentTodo.name })}\n        >\n          {this.renderComments()}\n        </Paper>\n    );\n  }\n\n  onAddComment = (comment) => {\n    const { dispatch, currentTodoIndex } = this.props;\n\n    dispatch(todosActions.addCommentToTodo({\n      todoIndex: currentTodoIndex,\n      comment\n    }));\n  };\n\n  renderComments () {\n    const { currentTodo } = this.props;\n    const { t } = this.context;\n\n    if (!currentTodo) {\n      return <Typography>\n        {t('No todo selected')}\n      </Typography>;\n    }\n\n    return (\n        <div>\n          <TodoCommentsList\n              key={currentTodo.id}\n              comments={currentTodo.comments}\n          />\n          <AddTodoComment\n              onSubmit={this.onAddComment}\n              className='TodoComments_add-comment'\n          />\n        </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    currentTodo: todosSelector.getCurrentTodo(state),\n    currentTodoIndex: todosSelector.getCurrentTodoIndex(state)\n  };\n};\n\nTodoComments.contextTypes = {\n  t: PropTypes.func\n};\n\nexport default connect(mapStateToProps)(TodoComments);","import React from 'react';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport { StylesProvider } from '@material-ui/styles';\nimport { Grid } from '@material-ui/core';\n\nimport './App.css';\nimport mainTheme from './theme/main';\nimport SideBar from './containers/sidebar/Sidebar';\nimport Todos from './containers/todos/Todos';\nimport TodoComments from './containers/todoComments/TodoComments';\n\nfunction App () {\n  return (\n      <StylesProvider injectFirst>\n        <MuiThemeProvider theme={mainTheme}>\n          <div className=\"App\">\n            <SideBar className='App_side-bar' />\n            <Grid container spacing={8} className='App_content'>\n              <Grid item sm className='App_content_paper'>\n                <Todos />\n              </Grid>\n              <Grid item sm className='App_content_paper'>\n                <TodoComments />\n              </Grid>\n            </Grid>\n          </div>\n        </MuiThemeProvider>\n      </StylesProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nimport './index.css';\nimport { store, persistor } from './store';\nimport IntlProvider from './containers/intl/IntlProvider';\nimport App from './App';\n\nReactDOM.render(\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <IntlProvider>\n          <App />\n        </IntlProvider>\n      </PersistGate>\n    </Provider>\n    , document.getElementById('root'));"],"sourceRoot":""}